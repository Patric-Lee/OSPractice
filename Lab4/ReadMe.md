## 容器通信的网络处理过程

### 同一host上同一子网内的两容器
我们称这两个容器分别为A和B，它们以桥接的方式连接在同一个虚拟的bridge上。A希望向B发送一个数据包。

A首先发出一个ARP请求，查找B的IP地址对应的MAC地址。虚拟的桥把这一请求向除了发来端口外的
所有端口广播，并收到与B连接的端口的ARP回复，从而桥设备知道了如何转发源为A终点为B的数据包。
接下来所有数据包都会由桥来进行转发。

值得注意的是两个容器的通信并不通过真实的网卡。换言之，对网络管理员而言这些流量是透明的。

### 同一host上不同子网内的两容器

### 通过gre隧道相连的两个host上同一子网内的两容器

## VLAN技术的原理
VLAN，即VIRTUAL LOCAL ACCESS NETWORK（虚拟局域网）。我们知道，较近地理范围内一组计算机相互连通，
可以组成局域网，从而方便地共享文件、资源等。而VLAN则更进一步，它能够实现这样的效果：即使一组计算机在
物理上相距较远，甚至根本不在同一网段中，但逻辑上它们被组织起来，相互间的通信就像是在同一个局域网中一样。

相应地，VLAN也可以把原本在同一物理网段中的广播域逻辑上地划分为不同的广播域，控制不同用户间的互相访问。
例如，原本A、B两台设备连接在同一交换机上，C、D连在另一交换机上，两台交换机也相连接，那么当A发arp包请求
C的MAC地址时，所有的设备由于都在同一个广播域中，因此都会收到这一消息，从而造成浪费。现在我们把A、C划为
一个VLAN，B、D划为另一个VLAN，此时只有与A1同一个广播域的只有C了，从而减少了浪费。换言之，消息只会发给
同一个VLAN的设备。不同VLAN之间需要通信时，就需要路由器加以中继。

从上面可以看出，VLAN的技术关键在于两点：

其一，分隔不同VLAN，使不同VLAN的设备处于不同广播域中，同一VLAN的设备处于相同广播域中。
其二，实现不同VLAN间的通信。

我们分别来看如何实现这两点。

###划分VLAN




### VLAN隔离的限制
